

[微信红包的随机算法是怎样实现的？](https://www.zhihu.com/question/22625187)

#截尾正态分布
##正态分布
Normal Distribution 称为正态分布，也称为高斯分布，Truncated Normal Distribution一般翻译为截断正态分布，也有称为截尾正态分布。

##截断分布
截断正态分布是截断分布(Truncated Distribution)的一种，那么截断分布是什么？
截断分布是指，限制变量取值范围(scope)的一种分布。
例如，限制x取值在0到50之间，即```{0<x<50}```
因此，根据限制条件的不同，截断分布可以分为：
2.1 限制取值上限，例如，``` 负无穷<x<50 ```
2.2 限制取值下限，例如，``` 0<x<正无穷 ```
2.3 上限下限取值都限制，例如，``` 0<x<50 ```

正态分布则可视为不进行任何截断的截断正态分布，也即自变量的取值为负无穷到正无穷


让变量x的取值，进行截断，有什么意义呢? 
通常，如果我们只关心在某一个氛围内的样本的分布时，会考虑使用截断的方法。

例如，假设我们知道一个班级学生的成绩，是服从正太分布的，那么，这个班级中，如果只观察考试成绩前10名的同学，那么他们服从什么分布呢？

##截断正太分布
如果，原来X服从正态分布，那么，对X的取值加一些限制条件之后，带有限制条件的X就服从截断正态分布了。
同样，限制条件还是分为三种情况：
限制取值上限、限制取值下限、上限下限取值都限制。

因此，截断正态分布，除了具有正态分布的两个参数——均值、方差之外，还有另外两个参数：
取值上限（可以取正无穷）
取值下限（可以取负无穷）
对于服从正态分布的x，限制x的取值，就可以得到x的截断正态分布。例如，原始x服从标准正态分布，通过限制下限为0，上限为正无穷，得到截断标准正太分布的概率密度函数如下：

需要注意的是，任何密度函数曲线下方的面积是1。因此，截断，并不意味着直接把原始密度函数两边去掉一部分；而是，截断后概率密度函数曲线会有一些变化，使得总面积仍然为1。









