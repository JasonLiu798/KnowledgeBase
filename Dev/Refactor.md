#Refactor
---
#C2重构的原则
##定义
名词版定义：对软件内部结构的一种调整，目的是在不改变软件可观察行为的前提下，提高可理解性，降低其修改成本
动词版定义：使用一系列重构手法，在不改变可观察行为的前提下，调整其结构

两顶帽子：添加新功能，重构

三次法则，三则重构

程序两面价值：
今天可以为你做什么，明天可以为你做什么

中间层的价值：
允许逻辑共享
分开解释意图和实现
隔离变化，如增加子类，而不必修改其他出现的这个对象的地方
封装条件逻辑


#2.5 重构的难题 
##数据库
对象模型
分割层
数据库模型

##修改接口
如何面对已发布得接口：让旧接口调用新接口，旧的标记为deprecated
不要过早发布接口，请修改你的代码所有权政策，使重构更顺畅
###Java的异常类
增加后，会导致用户代码要做修改
解决办法：将新增受控异常会变成非受控异常，但会市区校验能力
将整个包定义一个异常基类，throws子句声明此异常，异常子类可随便定义，不影响调用方

##重构不能做到的设计改动
既有代码太混乱
现有代码不能正常工作
项目时间、成本

分解成小块重构

#2.6重构与设计
预先设计
思考可以很快，但充满了小漏洞
重构可以在设计时不必一下找到 正确/最优 的解决方案，随着对问题理解加深，不断重构







---
























