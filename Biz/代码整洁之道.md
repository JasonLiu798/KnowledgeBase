
# C1 整洁代码
* 代码呈现了需求的细节
* 讲需求明确到机器可以执行的细节程度，这就是编程要做的事
需求总需要明确，规约


代码混乱/腐化原因：
时间，稍后=永不

## 1.3 混乱的代价
严重降低新需求开发效率
新人熟悉需要大量时间

### 华丽的新设计

### 态度
程序员遵从了不了解混乱风险的经理的意愿，也是不专业的做法
PS：但通常，经理权力>执行层，得有实例去反驳经理

### 谜题
制造腐化无助于赶上期限，只会不断拖慢你，错过期限，唯一办法是保持代码整洁

### 整洁代码的艺术
1.了解为什么要保持整洁
2.学会分辨 整洁代码
3.大量的小技巧，代码感

### 什么是代码整洁
优雅：外表或举止上令人愉悦的优美和雅观；令人愉悦的精致和简单
整洁的代码只做好一件事
* 通过所有测试
* 没有重复代码
* 体现系统中的全部设计理念
* 包括尽量少的实体，如类、方法、函数等

## 1.4 思想流派

## 1.5 我们是作者
读与写的比例 超过10:1
编写代码的难度取决于读周边代码的难度

## 1.6 童子军军规
让营地比你来时更干净

## 1.7 前传与原则
SRP、OCP、DIP

----
# C2 有意义的命名
## 2.1 介绍

取好名的规则
## 2.2 名副其实
难点：对外接口不能轻易变更，但字段含义可能会扩展或收缩

## 2.3 避免误导
* 避免专有名词 及其缩写
* 避免名称和其他名称太相似，而不好区分

## 2.4 做有意义的区分
避免多余的冗余字符，比如表名中冗余的Table，变量名中冗余的Variable

## 2.5 使用读的出的名称
不好读的变量名导致沟通困难

## 2.6 使用可搜索的名称
不好搜索的名字：
* 太短的（名称的长短应与其作用域相关）
* 没有命名的常量

## 2.7 避免使用编码
### 匈牙利语标记法
在名称中加类型的原因：fortune等语言没有类型系统，basic早期变量名长度有限，C语言指针不加类型会有歧义

### 成员前缀

### 接口和实现

## 2.8 避免思维映射

## 2.9 类名
不应当是动词

## 2.10 方法名
构造方法：可以用静态工厂方法名，明确新建的对象

## 2.11 别扮可爱
少用俚语、俗话、需要联想才知道含义的词，都会导致沟通理解困难

## 2.12 每个概念一个词
一个概念 不要用 多种词来表示，会引发误导

## 2.13 别用双关语
导致歧义

## 2.14 使用解决方案领域名称

## 2.15 使用源自所涉及问题领域的名称
难点：用户有时会改变自己领域的词的含义、最终在沟通时容易产生歧义

## 2.16 添加有意义的语境
添加前缀
为缺少语境的词，减少阅读者的推测

## 2.17 不要添加没用的语境
短名能说清楚的就别用长名

## 2.18 最后的话

----
# C3 函数
## 3.1 短小
可以短到只有三四行
这时，函数名就相当于文档了

## 3.2 只做一件事
只做一件事的函数无法被合理的划分为多个区段

## 3.3 每个函数一个抽象层级
向下规则：每个函数后面跟着向下一抽象层级的函数，查看函数列表时，能循抽象层级向下阅读
分层，每层只干一件事

## 3.4 switch语句
增加新条件会更长
违反SRP、OCP
建议多态取代

## 3.5 使用描述性名称

## 3.6 函数参数
最理想的是0
其次是1，避免三个及以上
多参数的缺点：
* 需要理解参数
* 参数越多，测试的组合越多

### 一元函数的普遍形式

### 标识参数
不好通过函数调用区分，函数功能，必须查看函数定义、形参

### 二元函数

### 三元函数

### 参数对象

## 3.7 无副作用
副作用：对于其他数据的修改、初始化

输出参数：需要检查函数定义才能明确

## 3.8 分隔指令与询问
函数要么做什么事，要么回答某事，二者不可得兼
函数应该修改某对象状态或者返回对象有关信息

## 3.9 使用异常替代返回错误码
错误处理可以从主路径中分离，而不是需要立即处理
### 抽离try/catch代码块
### 错误处理就是一件事
### Error.java 依赖磁铁
定义错误码的静态类或枚举类
这种类是一块依赖磁铁，大量类都需要导入，当error类修改时，所有这些其他类都需要修改

## 3.10 别重复自己
减少隐性的重复代码

## 3.11 结构化编程
## 3.12 如何写出
不断重构

----
# C4 注释
准确性第一
要紧跟代码的变化而变化
代码能表达清楚的，就不需要注释

## 4.1 注释不能美化糟糕的代码

## 4.2 用代码来阐述

## 4.3 好注释
最好的注释是想办法不去写
### 法律信息
### 提供信息的注释
比如返回值的含义
### 对意图的解释
有多种方案的地方
### 阐释
解释不容易懂的代码
### 警示
### todo注释

### 放大

### 公共API的javadoc

## 4.4 坏注释
### 喃喃自语
### 多余的注释
仅仅是描述代码流程的注释无意义，还不如代码精确
### 误导性注释
### 循规式注释
### 日志式注释
出现原因是，以前没有源码管理系统
### 废话注释
### 可怕的废话
### 能用函数或变量就别用注释
### 位置标记
尽量少用，滥用会沉没在背景噪音中
### 中括号后面的注释
应该做的是缩小函数
### 注释掉的代码

### HTML注释

### 信息过多

### 函数头的注释
短函数不需要注释，不如起个好名字

---
# C5 格式
## 5.1 格式的目的
关乎沟通

## 5.2 垂直格式

### 5.2.4 垂直距离
变量声明尽可能的靠近使用的位置
相关函数尽量放一块
概念相关
被调用的函数放到执行函数下面

## 5.3 横向格式















