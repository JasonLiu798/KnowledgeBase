#DDD
---
#Theory
[DDD领域驱动设计基本理论知识总结](http://www.cnblogs.com/netfocus/archive/2011/10/10/2204949.html)
#特点
领域模型是对具有某个边界的领域的一个抽象，反映了领域内用户业务需求的本质；领域模型是有边界的，只反应了我们在领域内所关注的部分；
领域模型只反映业务，和任何技术实现无关；领域模型不仅能反映领域中的一些实体概念，如货物，书本，应聘记录，地址，等；还能反映领域中的一些过程概念，如资金转账，等；
领域模型确保了我们的软件的业务逻辑都在一个模型中，都在一个地方；这样对提高软件的可维护性，业务可理解性以及可重用性方面都有很好的帮助；
领域模型能够帮助开发人员相对平滑地将领域知识转化为软件构造；
领域模型贯穿软件分析、设计，以及开发的整个过程；领域专家、设计人员、开发人员通过领域模型进行交流，彼此共享知识与信息；因为大家面向的都是同一个模型，所以可以防止需求走样，可以让软件设计开发人员做出来的软件真正满足需求；
要建立正确的领域模型并不简单，需要领域专家、设计、开发人员积极沟通共同努力，然后才能使大家对领域的认识不断深入，从而不断细化和完善领域模型；
为了让领域模型看的见，我们需要用一些方法来表示它；图是表达领域模型最常用的方式，但不是唯一的表达方式，代码或文字描述也能表达领域模型；
领域模型是整个软件的核心，是软件中最有价值和最具竞争力的部分；设计足够精良且符合业务需求的领域模型能够更快速的响应需求变化；



##领域通用语言(Ubiquitous Language)

##领域建模

##领域建模时思考问题的角度

不能以用户为中心作为出发点去思考问题，不能老是想着用户会对系统做什么；而应该从一个客观的角度，根据用户需求挖掘出领域内的相关事物，思考这些事物的本质关联及其变化规律作为出发点去思考问题。
领域模型是与谁用和怎样用是无关的客观模型。归纳起来说就是，领域建模是建立虚拟模型让我们现实的人使用，而不是建立虚拟空间，去模仿现实。

##分层
用户界面/展现层
负责向用户展现信息以及解释用户命令。更细的方面来讲就是：
* 请求应用层以获取用户所需要展现的数据；
* 发送命令给应用层要求其执行某个用户命令；

应用层
很薄的一层，定义软件要完成的所有任务。对外为展现层提供各种应用功能（包括查询或命令），对内调用领域层（领域对象或领域服务）完成各种业务逻辑，应用层不包含业务逻辑。

领域层
负责表达业务概念，业务状态信息以及业务规则，领域模型处于这一层，是业务软件的核心。

基础设施层
本层为其他层提供通用的技术能力；提供了层间的通信；为领域层实现持久化机制；总之，基础设施层可以通过架构和框架来支持其他层的技术需求；

##领域驱动设计过程中使用的模式
关联的设计
实体（Entity）
值对象（Value Object）
领域服务（Domain Service）
聚合及聚合根（Aggregate，Aggregate Root）
工厂（Factory）
仓储（Repository）



##聚合
[关于领域驱动设计（DDD）中聚合设计的一些思考](http://www.cnblogs.com/netfocus/p/3307971.html)
聚合是用来封装真正的不变性，而不是简单的将对象组合在一起；
聚合应尽量设计的小；
    业务决定聚合，业务改变聚
聚合之间的关联通过ID，而不是对象引用；
聚合内强一致性，聚合之间最终一致性；



面向对象与面向过程最大区别就是：分解。边界的分解
面向对象的实质就是边界划分，封装，不但对需求变化能够量化，缩小影响面；因为边界划分也会限制出错的影响范围，所以OO对软件后期BUG等出错也有好处。





---
#CQRS架构


Event Sourcing（事件溯源）

#DCI架构
DCI(D,数据，领域模型；C，上下文，用例；I，交互，对象扮演的角色）





---
#资料
Eric Evans
[领域驱动设计](http://book.douban.com/subject/1629512/)

Vaughn Vernon
[实现领域驱动设计](http://book.douban.com/subject/25844633/)





---
#案例
[银行转账业务场景的几种实现思路对比](http://www.cnblogs.com/netfocus/archive/2011/04/17/2019152.html)
[借书场景领域建模浅析](http://www.cnblogs.com/netfocus/archive/2013/04/08/3009113.html)















